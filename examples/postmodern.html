<!DOCTYPE html>
<html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>12 Forks</title> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen"> <link href="/css/custom.css" rel="stylesheet" media="screen"> <link rel="alternate" href="/rss.xml" type="application/rss+xml" />  </head> <body> <div class="container-fluid"> <div class="row-fluid"> <div class="offset2 span8"> <div class="row-fluid"> <div class="navbar"> <div class="navbar-inner"> <a class="brand" href="/">12 Forks</a> <ul class="nav"> <li> <a href="/about.html">Rationale</a> </li><li> <a href="/1.html">Blog</a> </li><li> <a href="https://github.com/12forks/command-line/releases">Download</a> </li> </ul> </div> </div> </div> <div class="row-fluid"> <div class="row-fluid">
   <div id="id1" class="document"><h1 class="title">marijnh/Postmodern</h1>
<p>These are forks containing branches not merged to <a class="reference" href="https://github.com/marijnh/Postmodern"><span>marijnh/Postmodern</span></a>.</p>
<div id="svetlyak40wt-postmodern" class="section"><h2><a name="svetlyak40wt-postmodern">svetlyak40wt/Postmodern</a></h2>
<div id="support-ipv6-only-machinesrepl" class="section"><h3><a name="support-ipv6-only-machinesrepl">support-ipv6-only-machinesrepl</a></h3>
<p>Added support for IPv6 only machines on SBCL.</p>
<p>Previously, cl-postgres just ignored any IPv6 addresses resolving database's hostname.</p>
<p>Added condition for get-host-address.</p>
</div>
</div>
<div id="radisb-postmodern" class="section"><h2><a name="radisb-postmodern">radisb/Postmodern</a></h2>
<div id="master" class="section"><h3><a name="master">master</a></h3>
<p>Update-dao: added updatable fields (= slots that are bound) so that when update-dao is called the unbound slots are not included in the fields to be updated.</p>
<p>Update table.lisp.</p>
</div>
</div>
<div id="ibawt-postmodern" class="section"><h2><a name="ibawt-postmodern">ibawt/Postmodern</a></h2>
<div id="fix-schema-functions" class="section"><h3><a name="fix-schema-functions">fix_schema_functions</a></h3>
<p>Fix schema changes.</p>
</div>
</div>
<div id="mkrauss-postmodern" class="section"><h2><a name="mkrauss-postmodern">mkrauss/Postmodern</a></h2>
<div id="id2" class="section"><h3><a name="id2">master</a></h3>
<p>Close parsed / prepared statement</p>
<p>Message, protocol, and public interfaces for closing a parsed / prepared statement. Closing a named statement frees resources and allows a different statement to be parsed with the same name.</p>
<p>Test for unprepare-query.</p>
<p>Documentation for unprepare-query.</p>
</div>
</div>
<div id="puercopop-postmodern" class="section"><h2><a name="puercopop-postmodern">PuercoPop/Postmodern</a></h2>
<div id="patch-1" class="section"><h3><a name="patch-1">patch-1</a></h3>
<p>Enable-s-sql-syntax properly listed as a function in the docs.</p>
</div>
<div id="patch-2" class="section"><h3><a name="patch-2">patch-2</a></h3>
<p>Typo in the documentation of database-connection</p>
<p>Representatino -&gt; Representation.</p>
</div>
<div id="with-transaction" class="section"><h3><a name="with-transaction">with-transaction</a></h3>
<p>Simplify with-transaction implementation.</p>
</div>
</div>
<div id="rick-monster-postmodern" class="section"><h2><a name="rick-monster-postmodern">rick-monster/Postmodern</a></h2>
<div id="id3" class="section"><h3><a name="id3">master</a></h3>
<p>Add global var to allow mixed case symbols.</p>
</div>
</div>
<div id="mpemer-postmodern" class="section"><h2><a name="mpemer-postmodern">mpemer/Postmodern</a></h2>
<div id="id4" class="section"><h3><a name="id4">master</a></h3>
<p>Added :alter-column operation</p>
<p>Added :alter-table :alter-column operation, which will generate SQL of the type</p>
<blockquote> ALTER TABLE some_table ALTER COLUMN new_column_spec.</blockquote> </div>
</div>
<div id="ebdreger-postmodern" class="section"><h2><a name="ebdreger-postmodern">ebdreger/Postmodern</a></h2>
<div id="dao-view" class="section"><h3><a name="dao-view">dao-view</a></h3>
<p>Rudimentary groundwork: Preparing to add view support to DAOs.</p>
</div>
</div>
<div id="webcheckout-postmodern" class="section"><h2><a name="webcheckout-postmodern">webcheckout/Postmodern</a></h2>
<div id="better-transaction-hooks" class="section"><h3><a name="better-transaction-hooks">better-transaction-hooks</a></h3>
<p>Ensure that transaction-open-p, <em><span>current-logical-transaction</span></em>, and <em><span>transaction-level</span></em> correctly reflect the state of the transaction (that is, closed) at the time that any abort or commit hooks run. Also add abort-logical-transaction and commit-logical-transaction methods (and documentation) for use with with-logical-transaction, where the user will not know whether the handle represents a savepoint or transaction.</p>
</div>
<div id="generic-transaction" class="section"><h3><a name="generic-transaction">generic_transaction</a></h3>
<p>When computing the column names to use for insert/update methods on dao instance consider the class's column-map and not just the slots' names.</p>
<p>When building up s-sql forms in the dao readers/writers make sure to use :raw for the column names (which we have as strings and not symbols)</p>
<p>Make sure to compute the right sql column name for the :returning columns in insert-dao.</p>
<p>Tests for :col-name DAO slot argument.</p>
<p>When computing the column names to use for insert/update methods on dao instance consider the class's column-map and not just the slots' names.</p>
<p>When building up s-sql forms in the dao readers/writers make sure to use :raw for the column names (which we have as strings and not symbols)</p>
<p>Make sure to compute the right sql column name for the :returning columns in insert-dao.</p>
<p>Tests for :col-name DAO slot argument.</p>
<p>Add failing test showing database error raised when attempting to write empty arrays.</p>
<p>Fix empty array problem by using Postgres's array literal syntax for empty arrays.</p>
<p>Removed all whitespace changes on branch vs master (no functional changes)</p>
<p>This commit serves to make the diff between this branc and master easier to read, review and merge.</p>
<p>Use make-symbol instead of (list :raw ...) to inject a column name into an s-sql query.</p>
<p>Added connection-backend-info to the cl-postgres connection.</p>
<p>Whenever we create a new connection as part of the initialization we send a query and get the backend's user, pid and database and store this lisp side if it needs to be used later on (we collect the information at connection time so that it's available even if the connection is broken and can't run the query itself).</p>
<p>Export commit-logical-transaction and abort-logical-transaction.</p>
<p>Make the functions for committing and aborting transactions (and savepoints) generic functions.</p>
<p>Added <em><span>transaction-class</span></em> and <em><span>savepoint-class</span></em> to allow user code to  select which classes are used for transactions and savepoints.</p>
<p>Added the special variable <em><span>current-savepoint</span></em> and <em><span>current-transaction</span></em>; these are bound by call-with-savepoint and call-with-transaction respectively.</p>
</div>
<div id="id5" class="section"><h3><a name="id5">master</a></h3>
<p>When computing the column names to use for insert/update methods on dao instance consider the class's column-map and not just the slots' names.</p>
<p>When building up s-sql forms in the dao readers/writers make sure to use :raw for the column names (which we have as strings and not symbols)</p>
<p>Make sure to compute the right sql column name for the :returning columns in insert-dao.</p>
<p>Tests for :col-name DAO slot argument.</p>
<p>When computing the column names to use for insert/update methods on dao instance consider the class's column-map and not just the slots' names.</p>
<p>When building up s-sql forms in the dao readers/writers make sure to use :raw for the column names (which we have as strings and not symbols)</p>
<p>Make sure to compute the right sql column name for the :returning columns in insert-dao.</p>
<p>Tests for :col-name DAO slot argument.</p>
<p>Add failing test showing database error raised when attempting to write empty arrays.</p>
<p>Fix empty array problem by using Postgres's array literal syntax for empty arrays.</p>
<p>Removed all whitespace changes on branch vs master (no functional changes)</p>
<p>This commit serves to make the diff between this branc and master easier to read, review and merge.</p>
<p>Use make-symbol instead of (list :raw ...) to inject a column name into an s-sql query.</p>
<p>Added connection-backend-info to the cl-postgres connection.</p>
<p>Whenever we create a new connection as part of the initialization we send a query and get the backend's user, pid and database and store this lisp side if it needs to be used later on (we collect the information at connection time so that it's available even if the connection is broken and can't run the query itself).</p>
<p>Export commit-logical-transaction and abort-logical-transaction.</p>
</div>
<div id="nested-joins" class="section"><h3><a name="nested-joins">nested-joins</a></h3>
<p>Allow nested joins.</p>
<p>Add documentation for nested and chained join syntax.</p>
<p>Handle table aliases correctly.</p>
<p>More concise.</p>
</div>
</div>
<div id="segv-postmodern" class="section"><h2><a name="segv-postmodern">segv/Postmodern</a></h2>
<div id="call-with-transaction" class="section"><h3><a name="call-with-transaction">call_with_transaction</a></h3>
<p>Don't supply a name to pomo:with-transaction if we don't intend to use the transaction binding.</p>
<p>Refactor with-(transaction|savepoint|logical-transaction) into macros+call-with functions.</p>
<p>This patch makes no functional changes however it is now possible to trace, using plain old cl:trace, the transaction/savepoint stacking macros.</p>
</div>
<div id="col-name-dao" class="section"><h3><a name="col-name-dao">col_name_dao</a></h3>
<p>When computing the column names to use for insert/update methods on dao instance consider the class's column-map and not just the slots' names.</p>
<p>When building up s-sql forms in the dao readers/writers make sure to use :raw for the column names (which we have as strings and not symbols)</p>
<p>Make sure to compute the right sql column name for the :returning columns in insert-dao.</p>
<p>Tests for :col-name DAO slot argument.</p>
<p>Removed all whitespace changes on branch vs master (no functional changes)</p>
<p>This commit serves to make the diff between this branc and master easier to read, review and merge.</p>
<p>Use make-symbol instead of (list :raw ...) to inject a column name into an s-sql query.</p>
</div>
<div id="handler-bind-error-handling" class="section"><h3><a name="handler-bind-error-handling">handler_bind_error_handling</a></h3>
<p>Make error handling in with-syncing not clobber the backtrace.</p>
<p>Use handler-bind instead of handler-case+error when cleaning up after end-of-file errors. Also make sure the end-of-file error was signalled on the socket stream we've created, if it was signalled on another stream there's nothing extra to do.</p>
<p>Don't clobber backtrace when handling errors in with-reconnect-restart.</p>
<p>Use handler-bind instead of handler-case; The existing error handlers would simply resignal the errors, since with handler-bind this isn't neccessary the retry function and its invocation have been removed.</p>
</div>
</div>
<div id="enaeher-postmodern" class="section"><h2><a name="enaeher-postmodern">enaeher/Postmodern</a></h2>
<div id="empty-arrays" class="section"><h3><a name="empty-arrays">empty-arrays</a></h3>
<p>Add failing test showing database error raised when attempting to write empty arrays.</p>
<p>Fix empty array problem by using Postgres's array literal syntax for empty arrays.</p>
</div>
<div id="id6" class="section"><h3><a name="id6">master</a></h3>
<p>Do-query-dao working.</p>
<p>Do-select-dao working.</p>
<p>Export do-select-dao.</p>
<p>Documentation for do-query-dao and do-select-dao.</p>
<p>Add failing tests for logical transactions.</p>
<p>Implement with-logical-transaction, ensure-transaction, commit-hooks, and abort-hooks.</p>
<p>Documentation.</p>
<p>Whitespace.</p>
<p>Correct use of eos:is in several tests.</p>
<p>Change with-savepoint to have same invocation as with-transaction, including making the name optional.</p>
<p>Wrap commit and abort hooks in unwind-protect.</p>
<p>Whitespace.</p>
<p>Correct use of eos:is in several tests.</p>
<p>Change with-savepoint to have same invocation as with-transaction, including making the name optional.</p>
<p>Wrap commit and abort hooks in unwind-protect.</p>
<p>Fix bug in <em><span>transaction-level</span></em> logic; add <em><span>current-logical-transaction</span></em></p>
<p>Fix unwind-protect calls.</p>
</div>
<div id="transactions" class="section"><h3><a name="transactions">transactions</a></h3>
<p>Add failing tests for logical transactions.</p>
<p>Implement with-logical-transaction, ensure-transaction, commit-hooks, and abort-hooks.</p>
<p>Documentation.</p>
<p>Whitespace.</p>
<p>Correct use of eos:is in several tests.</p>
<p>Change with-savepoint to have same invocation as with-transaction, including making the name optional.</p>
<p>Wrap commit and abort hooks in unwind-protect.</p>
<p>Fix bug in <em><span>transaction-level</span></em> logic; add <em><span>current-logical-transaction</span></em></p>
<p>Fix unwind-protect calls.</p>
<p>Allow more than one form in the body of pomo:ensure-transaction.</p>
<p>Also refactored so that the macro expands into a function call (call-with-ensured-transaction) so that there's a function that can be traced (and that appears on the call stack) and so that there's less back quoting.</p>
<p>Refactor with-logical-transaction into a macro which simply expands into a call to call-with-logical-transaction</p>
<p>This avoids duplicating the body forms in the macroexpansion output and allow one to trace 'calls' to with-logical-transaction by tracing the function call-with-logical-transaction.</p>
<p>Fix call to with-savepoint in save-dao/transaction to work with new api.</p>
<p>Revert "Refactor with-logical-transaction into a macro which simply expands into a call to call-with-logical-transaction"</p>
<p>This reverts commit 80d3129aafc2f087d2d1f128b48ba43b41966b81.</p>
<p>Go back to old with-savepoint arg list.</p>
</div>
<div id="window-partition-by" class="section"><h3><a name="window-partition-by">window-partition-by</a></h3>
<p>Minor formatting fixes.</p>
<p>Allow partitioning by multiple columns when using window functions.</p>
<p>Postgres requires that a WINDOW clause, if one exists, follow the WHERE, GROUP BY, and HAVING clauses, if they exist.</p>
</div>
</div>
<div id="attila-lendvai-postmodern" class="section"><h2><a name="attila-lendvai-postmodern">attila-lendvai/Postmodern</a></h2>
<div id="hu-dwim" class="section"><h3><a name="hu-dwim">hu.dwim</a></h3>
<p>Be more clear around ratio serialization.</p>
<blockquote> <ul>
<li><p class="first last">Use 'ratio' instead of 'rational' in some names</p>
</li>
<li><p class="first last">Signal a more descriptive error from WRITE-RATIO-AS-FLOATING-POINT</p>
</li>
<li><p class="first last">Add CONTINUE restarts to WRITE-RATIO-AS-FLOATING-POINT in case the ratio cannot be serialized without a loss of precision, and <em><span>SILENTLY-TRUNCATE-RATIOS</span></em> is false.</p>
</li>
</ul>
</blockquote> <p>Add a SERIALIZE-FOR-POSTGRES generic method.</p>
<p>It can be customized to serialize lisp values directly into the socket stream either as string or as bytes. Defaults to TO-SQL-STRING.</p>
<p>E.g. the integration with local-time can use it to emit the binary timestamp format of PostgreSQL and avoid printing and parsing of human readable timestamp strings.</p>
<p>Do not ignore silently any precision loss by default.</p>
</div>
<div id="ratio" class="section"><h3><a name="ratio">ratio</a></h3>
<p>Be more clear around ratio serialization.</p>
<blockquote> <ul>
<li><p class="first last">Use 'ratio' instead of 'rational' in some names</p>
</li>
<li><p class="first last">Signal a more descriptive error from WRITE-RATIO-AS-FLOATING-POINT</p>
</li>
<li><p class="first last">Add CONTINUE restarts to WRITE-RATIO-AS-FLOATING-POINT in case the ratio cannot be serialized without a loss of precision, and <em><span>SILENTLY-TRUNCATE-RATIOS</span></em> is false.</p>
</li>
</ul>
</blockquote> <p>Do not ignore silently any precision loss by default.</p>
</div>
</div>
<div id="dimitri-postmodern" class="section"><h2><a name="dimitri-postmodern">dimitri/Postmodern</a></h2>
<div id="id7" class="section"><h3><a name="id7">master</a></h3>
<p>Rework bulk-copy API to allow several COPY within the same transaction.</p>
</div>
<div id="open-db-writer" class="section"><h3><a name="open-db-writer">open-db-writer</a></h3>
<p>Rework bulk-copy API to allow several COPY within the same transaction.</p>
</div>
<div id="protocol-error-fields" class="section"><h3><a name="protocol-error-fields">protocol-error-fields</a></h3>
<p>Rework bulk-copy API to allow several COPY within the same transaction.</p>
<p>Improve error reporting, providing HINT, DETAIL and CONTEXT as separate entries.</p>
<p>The PostgreSQL protocol defines error fields with some precision, as can be read at <a class="reference" href="http://www.postgresql.org/docs/current/static/protocol-error-fields.html"><span>http://www.postgresql.org/docs/current/static/protocol-error-fields.html</span></a>. This patch improves the database-error condition to expose important fields separately and fixes get-error so that news fields are properly filled when an error occurs.</p>
</div>
</div>
<div id="zickzackv-postmodern" class="section"><h2><a name="zickzackv-postmodern">zickzackv/Postmodern</a></h2>
<div id="fix-namespace-quoting" class="section"><h3><a name="fix-namespace-quoting">fix-namespace-quoting</a></h3>
<p>Fixing quoting of namespace identifiers</p>
<p>namespace identifiers are quoated with double quoates (") using s-sql:to-sql-name.  s-sql:to-sql-name substitutes nonalphanumeric characters with underscore (_).</p>
<p>This also means that you have to create namespaces with funny characters from within postmodern in order to access them correctly.</p>
<p>Fix: quoting namespace identifiers w/ to-sql-name.</p>
</div>
<div id="namespaces" class="section"><h3><a name="namespaces">namespaces</a></h3>
<p>Initial namespace support.</p>
<p>Realy set the search path! (and do not try to change name)</p>
<p>Let table-exists-p honor namespaces (like list-tables)</p>
<p>Adding tests for with-schema.</p>
<p>Testing the options for with-schema like :drop-after and :strict are still missing.</p>
<p>Removing alexandrina dependency.</p>
<p>Adding documentation for schemata.</p>
<p>Changed with-schema to use a helper method do-with-schema.</p>
</div>
<div id="schema-name-escaping" class="section"><h3><a name="schema-name-escaping">schema-name-escaping</a></h3>
<p>Fixing double escape and cascading deletion.</p>
</div>
</div>
<div id="waywardmonkeys-postmodern" class="section"><h2><a name="waywardmonkeys-postmodern">waywardmonkeys/Postmodern</a></h2>
<div id="fix-typos" class="section"><h3><a name="fix-typos">fix-typos</a></h3>
<p>Fix typos in documentation.</p>
</div>
</div>
<div id="hanshuebner-postmodern" class="section"><h2><a name="hanshuebner-postmodern">hanshuebner/Postmodern</a></h2>
<div id="id8" class="section"><h3><a name="id8">master</a></h3>
<p>Make table-description return columns in table order.</p>
</div>
</div>
<div id="fvides-postmodern" class="section"><h2><a name="fvides-postmodern">fvides/Postmodern</a></h2>
<div id="add-operator" class="section"><h3><a name="add-operator">add-@@-operator</a></h3>
<p>Added FTS match :@@ operator.</p>
</div>
<div id="update-add-from-clause" class="section"><h3><a name="update-add-from-clause">update-add-from-clause</a></h3>
<p>Extended the :update operation with a :from clause.</p>
</div>
</div>
<div id="makarovalexey-postmodern" class="section"><h2><a name="makarovalexey-postmodern">MakarovAlexey/Postmodern</a></h2>
<div id="id9" class="section"><h3><a name="id9">master</a></h3>
<p>Initial code for large objects.</p>
<p>Initial code for large objects.</p>
<p>Some implementation.</p>
<p>Some implementation.</p>
<p>Implementation.</p>
<p>Implemented input streams.</p>
<p>Implemented output streams.</p>
<p>Fixed compilation.</p>
<p>Working on tests.</p>
<p>Implemented intup and output streams.</p>
</div>
</div>
<div id="daimrod-postmodern" class="section"><h2><a name="daimrod-postmodern">daimrod/Postmodern</a></h2>
<div id="case-else" class="section"><h3><a name="case-else">case-else</a></h3>
<p>Added ELSE clause to CASE.</p>
<p>Mentioned :ELSE clause in the documentation of the CASE statement.</p>
</div>
<div id="join-using" class="section"><h3><a name="join-using">join-using</a></h3>
<p>Support USING clause in JOIN.</p>
<p>Mentioned :using in the documentation.</p>
</div>
<div id="id10" class="section"><h3><a name="id10">master</a></h3>
<p>Support USING clause in JOIN.</p>
<p>Added OVER operator.</p>
<p>Added :parition-by operator.</p>
<p>Do not expand form in :ORDER-BY if it's NIL.</p>
<p>This change has two reasons:</p>
<p>1. it doesn't make really sense to have something like false ORDER BY ...</p>
<p>2. We can use it with windows e.g. SELECT f1 OVER (ORDER BY f2)</p>
<p>Added ELSE clause to CASE.</p>
<p>Added VALUES operator.</p>
<p>Added parentheses around PARTITION BY.</p>
</div>
<div id="partition-over" class="section"><h3><a name="partition-over">partition-over</a></h3>
<p>Added OVER operator.</p>
<p>Added :parition-by operator.</p>
<p>Do not expand form in :ORDER-BY if it's NIL.</p>
<p>This change has two reasons:</p>
<p>1. it doesn't make really sense to have something like false ORDER BY ...</p>
<p>2. We can use it with windows e.g. SELECT f1 OVER (ORDER BY f2)</p>
<p>Added parentheses around PARTITION BY.</p>
</div>
</div>
<div id="mcna-postmodern" class="section"><h2><a name="mcna-postmodern">mcna/Postmodern</a></h2>
<div id="edi-rdf-bulk-copy" class="section"><h3><a name="edi-rdf-bulk-copy">edi-rdf-bulk-copy</a></h3>
<p>Add bulk-copy and support to this repository.</p>
<p>Make bulk-copy.lisp acl specific for now.</p>
<p>Add support for count DISTINCT.</p>
<p>Minor changes to make it compile on sbcl.</p>
<p>Revert "Minor changes to make it compile on sbcl"</p>
<p>This reverts commit 37c3e2d3bbfe13059e8a406427a68cecd8b13e96.</p>
<p>Add SCHEMA-NAME argument to TABLE-DESCRIPTION</p>
<p>The SCHEMA-NAME argument can be used to restrict the columns that are returned by the TABLE-DESCRIPTION to a certain schema.  By default, columns from all schemata are returned.</p>
<p>Documentation update for TABLE-DESCRIPTION change.</p>
<p>Simplify outputted query in table-description.</p>
<p>Added VALUES operator.</p>
<p>Notification support from Zach Beane with enhancements.</p>
<p>Documentation updates for notifications.</p>
<p>Add :unlisten SQL op.</p>
<p>Working on making this more reliable.</p>
<p>Seems to reliably escape data, and is a bit faster, too.</p>
<p>Fixed for Allegro.</p>
<p>Use consistent feature test for Allegro.</p>
<p>Fix really random typo, and example in comment.</p>
</div>
<div id="id11" class="section"><h3><a name="id11">master</a></h3>
<p>Make table-description return columns in table order.</p>
<p>Muffle style-warning during compilation.</p>
<p>Separate dumped sql rows with newlines.</p>
</div>
<div id="notification-support" class="section"><h3><a name="notification-support">notification-support</a></h3>
<p>Notification support from Zach Beane with enhancements.</p>
<p>Documentation updates for notifications.</p>
<p>Add :unlisten SQL op.</p>
</div>
<div id="pull-me" class="section"><h3><a name="pull-me">pull-me</a></h3>
<p>Add SCHEMA-NAME argument to TABLE-DESCRIPTION</p>
<p>The SCHEMA-NAME argument can be used to restrict the columns that are returned by the TABLE-DESCRIPTION to a certain schema.  By default, columns from all schemata are returned.</p>
<p>Documentation update for TABLE-DESCRIPTION change.</p>
</div>
</div>
<div id="ralith-postmodern" class="section"><h2><a name="ralith-postmodern">Ralith/Postmodern</a></h2>
<div id="id12" class="section"><h3><a name="id12">master</a></h3>
<p>More informative prepared query naming to improve error reporting.</p>
</div>
</div>
<div id="mishoo-postmodern" class="section"><h2><a name="mishoo-postmodern">mishoo/Postmodern</a></h2>
<div id="add-array-contains-ops" class="section"><h3><a name="add-array-contains-ops">add-array-contains-ops</a></h3>
<p>Added :not-null operator (it was already used in some examples in the doc)</p>
<p>Trying a different approach than the target-class hack in build-dao-methods</p>
<p>(we just evaluate the code that defines methods; since it happens at compile time it shouldn't be a big deal.  this fix was suggested by Marijn)</p>
<p>Added upsert-dao method</p>
<p>save-dao seems to pollute Postgres logs with duplicate key errors.  A simpler method (which works both in and out a transactions) is to update first, and if there are unbound slots or no rows were updated then insert.</p>
<p>Both save-dao and save-dao/transaction could now just call upsert-dao.</p>
<p>Named from <a class="reference" href="http://en.wikipedia.org/wiki/Upsert"><span>http://en.wikipedia.org/wiki/Upsert</span></a>.</p>
<p>Add defgeneric for upsert-dao and update documentation.</p>
<p>Return (values object is-new) from upsert-dao</p>
<p>is-new specifies whether the object was inserted (T) or updated (NIL)</p>
<p>Add array operators: @&gt; (contains) and @&lt; (is contained by)</p>
</div>
<div id="id13" class="section"><h3><a name="id13">master</a></h3>
<p>Added :not-null operator (it was already used in some examples in the doc)</p>
<p>Trying a different approach than the target-class hack in build-dao-methods</p>
<p>(we just evaluate the code that defines methods; since it happens at compile time it shouldn't be a big deal.  this fix was suggested by Marijn)</p>
<p>Added upsert-dao method</p>
<p>save-dao seems to pollute Postgres logs with duplicate key errors.  A simpler method (which works both in and out a transactions) is to update first, and if there are unbound slots or no rows were updated then insert.</p>
<p>Both save-dao and save-dao/transaction could now just call upsert-dao.</p>
<p>Named from <a class="reference" href="http://en.wikipedia.org/wiki/Upsert"><span>http://en.wikipedia.org/wiki/Upsert</span></a>.</p>
<p>Add defgeneric for upsert-dao and update documentation.</p>
<p>Return (values object is-new) from upsert-dao</p>
<p>is-new specifies whether the object was inserted (T) or updated (NIL)</p>
</div>
</div>
<div id="galdor-postmodern" class="section"><h2><a name="galdor-postmodern">galdor/Postmodern</a></h2>
<div id="id14" class="section"><h3><a name="id14">master</a></h3>
<p>Add hstore operators.</p>
<p>Add support for NIL as a limit value</p>
<p>In that case, expand to LIMIT ALL (i.e. no limit).</p>
</div>
</div>
<div id="paul7-postmodern" class="section"><h2><a name="paul7-postmodern">paul7/Postmodern</a></h2>
<div id="id15" class="section"><h3><a name="id15">master</a></h3>
<p>Prevent nested with-connection from reconnecting to the same database.</p>
<p>Defprepared-with-names.</p>
<p>Documentation update.</p>
<p>Revert "prevent nested with-connection from reconnecting to the same database"</p>
<p>This reverts commit 2d42e28b9791b2f8930ba35d6cb3b4be47a6ee5b.</p>
</div>
</div>
 <ul class="pager"> 

</ul> </div>
 </div>  <div class="row-fluid"> <hr> <p class="fineprint">Created with passion by <em>40Ants</em> <a id="coleslaw-logo" href="https://github.com/kingcons/coleslaw"> <img width="100" height="25" src="/img/logo_small.jpg" alt="Coleslaw logo" /></p> </a> </div> </div> </div> </div> <script src="/js/bootstrap.min.js"></script> <!-- Yandex.Metrika counter --> <script type="text/javascript"> 
      (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
      try {
      w.yaCounter40503965 = new Ya.Metrika({
      id:40503965,
      clickmap:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:true
      });
      } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
      s = d.createElement("script"),
      f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
      d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
      })(document, window, "yandex_metrika_callbacks");
       </script> <noscript><div><img src="https://mc.yandex.ru/watch/40503965" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->~ </body> </html>